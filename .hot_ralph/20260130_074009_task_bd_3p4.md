I'll implement the encoder primitives for the TOON format. Let me start by exploring the current codebase structure to understand what exists.I see that task bd-3p4 "Encoder - Primitives" is in progress and depends on bd-19i (Encoder - Normalization) and bd-r3x (Validation Utilities), both of which are completed. Let me read the current encoder.zig and related files to understand what exists.Now let me read the constants.zig and errors.zig files to understand the infrastructure.Now I have a good understanding of the codebase. The encoder currently has normalization functions but no primitive encoding. I need to implement encoder primitives which should:

1. Encode primitive values (null, bool, number, string) to their TOON representation
2. Encode keys (quoted or unquoted based on validity)
3. Use the existing normalization and string utilitiesNow let me implement the encoder primitives by adding to the existing encoder.zig file.Now let me add the primitive encoding functions after the existing normalization code.Now I'll add the primitive encoding functions after the isCanonicalNumber function (line 195) and before the tests section (line 197).Now I need to add comprehensive tests for the new encoder primitive functions. Let me find the end of the current tests section and add new tests.Now I'll add tests for the encoder primitives at the end of the file.Now let me run the tests to validate the implementation.All tests pass. Let me also verify the build works.Both the tests pass and the build succeeds. Now let me commit the changes.Task completed successfully. Here's a summary of what was implemented:

## Encoder Primitives Implementation

**Added to `src/encoder.zig`:**

1. **`EncodeOptions`** - Configuration struct with delimiter option for quoting decisions

2. **`encodePrimitive(allocator, value, options)`** - Encodes primitive values to TOON strings:
   - `null` -> `"null"`
   - `bool` -> `"true"` or `"false"`
   - `number` -> canonical form (integers, no trailing zeros, NaN/Infinity -> `"null"`)
   - `string` -> quoted when needed (empty, contains delimiter/escapes, looks like literal/number, leading whitespace, starts with `-`)

3. **`encodeKey(allocator, key)`** - Encodes keys, quoting when they don't match the unquoted pattern `^[A-Za-z_][A-Za-z0-9_.]*$`

4. **Writer variants** (more efficient, no allocation):
   - `writePrimitive(writer, value, options)`
   - `writeKey(writer, key)`

5. **Comprehensive tests** covering all primitive types, quoting rules, and edge cases

All tests pass and the build succeeds.